!function(a){a.fn.blurjs=function(b){function c(a,b,c,e,f,g){if(!(isNaN(g)||1>g)){g|=0;var j,k=a.getContext("2d");try{try{j=k.getImageData(b,c,e,f)}catch(l){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),j=k.getImageData(b,c,e,f)}catch(l){throw alert("Cannot access local image"),new Error("unable to access local image data: "+l)}}}catch(l){throw alert("Cannot access image"),new Error("unable to access image data: "+l)}var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=j.data,H=g+g+1,I=e-1,J=f-1,K=g+1,L=K*(K+1)/2,M=new d,N=M;for(o=1;H>o;o++)if(N=N.next=new d,o==K)var O=N;N.next=M;var P=null,Q=null;s=r=0;var R=h[g],S=i[g];for(n=0;f>n;n++){for(z=A=B=t=u=v=0,w=K*(C=G[r]),x=K*(D=G[r+1]),y=K*(E=G[r+2]),t+=L*C,u+=L*D,v+=L*E,N=M,o=0;K>o;o++)N.r=C,N.g=D,N.b=E,N=N.next;for(o=1;K>o;o++)p=r+((o>I?I:o)<<2),t+=(N.r=C=G[p])*(F=K-o),u+=(N.g=D=G[p+1])*F,v+=(N.b=E=G[p+2])*F,z+=C,A+=D,B+=E,N=N.next;for(P=M,Q=O,m=0;e>m;m++)G[r]=t*R>>S,G[r+1]=u*R>>S,G[r+2]=v*R>>S,t-=w,u-=x,v-=y,w-=P.r,x-=P.g,y-=P.b,p=s+((p=m+g+1)<I?p:I)<<2,z+=P.r=G[p],A+=P.g=G[p+1],B+=P.b=G[p+2],t+=z,u+=A,v+=B,P=P.next,w+=C=Q.r,x+=D=Q.g,y+=E=Q.b,z-=C,A-=D,B-=E,Q=Q.next,r+=4;s+=e}for(m=0;e>m;m++){for(A=B=z=u=v=t=0,r=m<<2,w=K*(C=G[r]),x=K*(D=G[r+1]),y=K*(E=G[r+2]),t+=L*C,u+=L*D,v+=L*E,N=M,o=0;K>o;o++)N.r=C,N.g=D,N.b=E,N=N.next;for(q=e,o=1;g>=o;o++)r=q+m<<2,t+=(N.r=C=G[r])*(F=K-o),u+=(N.g=D=G[r+1])*F,v+=(N.b=E=G[r+2])*F,z+=C,A+=D,B+=E,N=N.next,J>o&&(q+=e);for(r=m,P=M,Q=O,n=0;f>n;n++)p=r<<2,G[p]=t*R>>S,G[p+1]=u*R>>S,G[p+2]=v*R>>S,t-=w,u-=x,v-=y,w-=P.r,x-=P.g,y-=P.b,p=m+((p=n+K)<J?p:J)*e<<2,t+=z+=P.r=G[p],u+=A+=P.g=G[p+1],v+=B+=P.b=G[p+2],P=P.next,w+=C=Q.r,x+=D=Q.g,y+=E=Q.b,z-=C,A-=D,B-=E,Q=Q.next,r+=e}k.putImageData(j,b,c)}}function d(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var e=document.createElement("canvas"),f=!1,g=a(this).selector.replace(/[^a-zA-Z0-9]/g,"");if(e.getContext){b=a.extend({source:"body",radius:5,overlay:"",offset:{x:0,y:0},optClass:"",cache:!1,cacheKeyPrefix:"blurjs-",draggable:!1,debug:!1},b);var h=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];return this.each(function(){var d=a(this),h=a(b.source),i=h.css("backgroundImage").replace(/"/g,"").replace(/url\(|\)$/gi,"");ctx=e.getContext("2d"),tempImg=new Image,i.match(/http:\/\/|https:\/\//)&&tempImg.setAttribute("crossorigin","anonymous"),tempImg.onload=function(){if(f)var a=tempImg.src;else{e.style.display="none",e.width=tempImg.width,e.height=tempImg.height,ctx.drawImage(tempImg,0,0),c(e,0,0,e.width,e.height,b.radius),0!=b.overlay&&(ctx.beginPath(),ctx.rect(0,0,tempImg.width,tempImg.width),ctx.fillStyle=b.overlay,ctx.fill());var a=e.toDataURL();if(b.cache)try{b.debug&&console.log("Cache Set"),localStorage.setItem(b.cacheKeyPrefix+g+"-"+i+"-data-image",a)}catch(j){console.log(j)}}var k=h.css("backgroundAttachment"),l="fixed"==k?"":"-"+(d.offset().left-h.offset().left-b.offset.x)+"px -"+(d.offset().top-h.offset().top-b.offset.y)+"px";d.css({"background-image":'url("'+a+'")',"background-repeat":h.css("backgroundRepeat"),"background-position":l,"background-attachment":k}),0!=b.optClass&&d.addClass(b.optClass),b.draggable&&(d.css({"background-attachment":"fixed","background-position":"0 0"}),d.draggable())},Storage.prototype.cacheChecksum=function(a){var c="";for(var d in a){var e=a[d];c+="[object Object]"==e.toString()?(e.x.toString()+e.y.toString()+",").replace(/[^a-zA-Z0-9]/g,""):(e+",").replace(/[^a-zA-Z0-9]/g,"")}var f=this.getItem(b.cacheKeyPrefix+g+"-"+i+"-options-cache");f!=c&&(this.removeItem(b.cacheKeyPrefix+g+"-"+i+"-options-cache"),this.setItem(b.cacheKeyPrefix+g+"-"+i+"-options-cache",c),b.debug&&console.log("Settings Changed, Cache Emptied"))};var j=null;b.cache&&(localStorage.cacheChecksum(b),j=localStorage.getItem(b.cacheKeyPrefix+g+"-"+i+"-data-image")),null!=j?(b.debug&&console.log("Cache Used"),f=!0,tempImg.src=j):(b.debug&&console.log("Source Used"),tempImg.src=i)})}}}(jQuery),angular.module("radialSlidersApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("radialSlidersApp").controller("MainCtrl",["$scope",function(a){a.$watch("myNumSliders",function(a,b){console.log("myNumSliders Changed"),console.log(a),console.log(b)}),a.myNumSliders=8,$(".hovery").blurjs({source:"body",offset:{x:15,y:-12},overlay:"rgba(0,100,100,0.1)",radius:5})}]),angular.module("radialSlidersApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("radialSlidersApp").directive("radialSlider",function(){return{restrict:"E",scope:{numSliders:"=",startAngle:"=",stopAngle:"=",angleIncrement:"=",initialValues:"=",stepSliders:"=",sliderPrefix:"=",colors:"="},link:{post:function(a,b,c){function d(){s=d3.select("#"+b[0].id).append("svg").attr("viewBox","0 0 600 600").attr("style","width: 300px; height: 300px;")}function e(){t=d3.behavior.drag().origin(Object).on("drag",j).on("dragend",m)}function f(a){u=s.append("svg:defs"),u.append("svg:radialGradient").attr("spreadMethod","pad").attr("r",.5).attr("cx",.5).attr("cy",.5).attr("id","rdlGrdnt-"+a).call(function(a){a.append("svg:stop").attr("id","rgInner").attr("offset","0").attr("stop-color","#ffff00").attr("stop-opacity",1),a.append("svg:stop").attr("id","rgMiddle").attr("offset","0.5").attr("stop-color","#ff6600").attr("stop-opacity",.8),a.append("svg:stop").attr("id","rgOuter").attr("offset","1").attr("stop-color","#0000ff").attr("stop-opacity",.01)}),s.append("circle").attr("id","rgCirc").attr("r",300).attr("cx",300).attr("cy",300).attr("stroke-linecap","null").attr("stroke-linejoin","null").attr("stroke-dasharray","null").attr("stroke-width",0).attr("fill","url(#rdlGrdnt-"+a+")")}function g(a){v=d3.format(".1f"),d(),e(),f(a)}function h(a,b){return Array.isArray(a)?a[b]:a}function i(a,b){var c=a-50,d=.01*(a+25);d3.select(b).attr("opacity",.6).attr("transform","scale("+d+") translate("+c+", 0)"),w[b.id]=a,s.select("#"+b.id+"sml").attr("d","M 17 42 q 16 "+k(a)+" 30 0"),s.select("#"+b.id+"gr1").attr("offset",.01*a);var e=l();s.select("#slidersAvg").text(v(e)),s.select("#avgSml").attr("d","M 17 42 q 16 "+k(e)+" 30 0"),s.select("#rgMiddle").attr("offset",.01*e)}function j(a){a.y=0,a.x=Math.max(0,Math.min(100,d3.event.x)),q.has(this.id)&&(a.x=10*Math.round(.1*a.x)),s.select("#"+this.id+"tx").attr("visibility","visible").attr("x",a.x).text(Math.round(a.x)+"%").attr("font-size",.5*a.x+10+"px"),i(a.x,this)}function k(a){return.35*a-17.5}function l(){return d3.mean(d3.values(w))}function m(){d3.select(this).attr("opacity",1),s.select("#"+this.id+"tx").attr("visibility","hidden")}function n(a){u.append("svg:linearGradient").attr("spreadMethod","pad").attr("x1",0).attr("y1",0).attr("x2",1).attr("y2",0).attr("id",a+"gr").call(function(b){b.append("svg:stop").attr("id",a+"gr1").attr("offset","0.5").attr("stop-color","#0099ff").attr("stop-opacity",1),b.append("svg:stop").attr("offset","1").attr("stop-color","#330099").attr("stop-opacity",1)})}console.log(c);var o;o=c.sliderPrefix?c.sliderPrefix:"sl";var p;p=a.initialValues?a.initialValues:50;var q=[];a.stepSliders&&a.stepSliders.forEach(function(a){q.push(o+a.toString())});var r;r=a.colors?a.colors:["#003300","#009933","#66CC33","#009966","#0099CC","#0099FF","#0066CC","#330099","#990066","#990000","#CC0000","#FF6600","#FFFF00","#000000","#FFFFFF"],q=d3.set(q);var s,t,u,v,w={};g(o);var x,y=50,z=a.numSliders;x=a.angleIncrement?a.angleIncrement:360/z;var A;A=a.startAngle?a.startAngle:0;var B;B=a.stopAngle?a.stopAngle:A+x*z;var C=!1,D=0;C&&(D=1e-6);var E=d3.range(A,B,x);E.forEach(function(a,b){var c=o+b,d=h(p,b);w[c]=d;var e=s.selectAll("svg").data([{x:50,y:0}]).enter().append("g").attr("transform","translate(300, 300) rotate("+a+") translate(75, 0)");e.append("path").attr("stroke",r[b]).attr("stroke-width",25).attr("stroke-linejoin","round").attr("d","M-10,16l175.51,39.684v-0.445 c17.498-32.229,17.498-81.838,0-110.923L-10-16"),n(c),e.append("path").attr("fill","url(#"+o+b+"gr)").attr("d","M-10,16l175.51,39.684v-0.445 c17.498-32.229,17.498-81.838,0-110.923L-10-16").attr("stroke-linecap","null").attr("stroke-linejoin","null").attr("stroke-dasharray","null");var f=e.append("g").call(t).attr("transform","scale(0.8)").attr("id",o+b);f.append("circle").attr("r",30).attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}).attr("fill",r[b]);var g=f.append("g").attr("transform","translate(19, -32)").attr("stroke-linecap","round").attr("stroke-linejoin","round");g.append("path").attr("id",o+b+"sml").attr("fill","none").attr("stroke","black").attr("d","M 17 42 q 16 0 30 0").attr("stroke-width",5),g.append("path").attr("d","m 25.2456,20.818995 a 4.2934899,4.2512827 0 1 1 -8.58698,0 4.2934899,4.2512827 0 1 1 8.58698,0 z").attr("transform","translate(2,0)"),g.append("path").attr("d","m 25.2456,20.818995 a 4.2934899,4.2512827 0 1 1 -8.58698,0 4.2934899,4.2512827 0 1 1 8.58698,0 z").attr("transform","translate(20.09578,-5.2209472e-7)"),g.append("path").attr("fill","none").attr("stroke","black").attr("stroke-width",5).attr("d","m 59.013798,30.326033 a 28.596857,28.596857 0 1 1 -57.1937144,0 28.596857,28.596857 0 1 1 57.1937144,0").attr("transform","translate(1.5830593,1.5830584)"),e.append("text").attr("id",o+b+"tx").text(function(a){return a.x}).attr("x",function(a){return a.x}).attr("y",function(a){return a.y+15}).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("visibility","hidden"),i(d,f[0][0])});var F=s.selectAll("svg").data([{text:y}]).enter().append("g").attr("transform","translate(300, 300)");F.append("text").text(function(a){return a.text}).attr("id","slidersAvg").attr("fill",r[9]).attr("font-size","25px").attr("text-anchor","middle").attr("alignment-baseline","middle");var G=F.append("g").attr("transform","translate(-30, -30)").attr("stroke-linecap","round","stroke-linejoin","round");G.append("path").attr("id","avgSml").attr("fill","none").attr("stroke","black").attr("d","M 17 42 q 16 0 30 0").attr("stroke-width",5),G.append("path").attr("d","m 25.2456,20.818995 a 4.2934899,4.2512827 0 1 1 -8.58698,0 4.2934899,4.2512827 0 1 1 8.58698,0 z").attr("transform","translate(2,0)"),G.append("path").attr("d","m 25.2456,20.818995 a 4.2934899,4.2512827 0 1 1 -8.58698,0 4.2934899,4.2512827 0 1 1 8.58698,0 z").attr("transform","translate(20.09578,-5.2209472e-7)"),G.append("path").attr("fill","none").attr("stroke","black").attr("stroke-width",5).attr("d","m 59.013798,30.326033 a 28.596857,28.596857 0 1 1 -57.1937144,0 28.596857,28.596857 0 1 1 57.1937144,0").attr("transform","translate(1.5830593,1.5830584)")}}}});